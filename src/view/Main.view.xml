<!DOCTYPE xml>
<core:View controllerName="geosort.controller.Main" xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:tnt="sap.tnt" class="sapUiSizeCompact">
    <tnt:ToolPage id="toolPage" sideExpanded="{path: 'app>/isLoggedIn', mode: 'OneWay'}">
        <tnt:header>
            <tnt:ToolHeader>
                <Button icon="sap-icon://menu"
                        type="Transparent"
                        press="onToggleSideContent">
                    <layoutData>
                        <OverflowToolbarLayoutData priority="NeverOverflow"/>
                    </layoutData>
                </Button>
                <Image class="sapUiSmallMarginBegin" height="2rem" src="images/logo_Baudirekt.png"/>
                <ToolbarSpacer/>
                <core:Icon src="sap-icon://map">
                </core:Icon>
                <Text text="{i18n>APP_TITLE}" wrapping="false">
                    <layoutData>
                        <OverflowToolbarLayoutData priority="Disappear" />
                    </layoutData>
                </Text>
                <ToolbarSpacer/>
				<Button visible="{app>/isLoggedIn}" text="{app>/user/name}" type="Transparent" press="onUserPress">
					<layoutData>
						<OverflowToolbarLayoutData priority="NeverOverflow" />
					</layoutData>
				</Button>
            </tnt:ToolHeader>
        </tnt:header>
        <tnt:sideContent>
            <tnt:SideNavigation id="sideNavigation" height="100%">
                <tnt:item>
                    <tnt:NavigationList id="navigationList" itemSelect="onNavigationItemPressed">
                        <tnt:NavigationListItem key="home" visible="{app>/isLoggedIn}" text="{i18n>NAV_HOME}" icon="sap-icon://home"/>
                        <tnt:NavigationListItem key="login" visible="{= !${app>/isLoggedIn} }" text="{i18n>NAV_LOGIN}" icon="sap-icon://visits"/>
                        <tnt:NavigationListItem key="projects" visible="{app>/isLoggedIn}" text="{i18n>NAV_PROJECTS}" icon="sap-icon://list"/>
                        <tnt:NavigationListItem key="sort" visible="{app>/isLoggedIn}" text="{i18n>NAV_GEOSORT}" icon="sap-icon://locate-me"/>
                    </tnt:NavigationList>
                </tnt:item>
                <tnt:fixedItem>

                </tnt:fixedItem>
            </tnt:SideNavigation>
        </tnt:sideContent>
        <tnt:mainContents>
            <NavContainer id="mainContents" defaultTransitionName="show" />
        </tnt:mainContents>
    </tnt:ToolPage>
</core:View>