<!DOCTYPE xml>
<core:View xmlns:core="sap.ui.core" controllerName="geosort.controller.projects.ProjectsList" xmlns="sap.m" xmlns:l="sap.ui.layout">
    <Page id="page" title="{i18n>PAGE_TITLE_PROJECTS}" showFooter="false" showHeader="true">
        <headerContent>
            <Button icon="sap-icon://add" press="onAddProject" type="Transparent"/>
        </headerContent>
        <subHeader>
            <Toolbar>
                <SearchField search="onSearchProjects"/>
            </Toolbar>
        </subHeader>
        <content>
            <List
                id="projectsList"
                busyIndicatorDelay="0"
                noDataText="{i18n>TXT_NO_PROJECTS}"
                items="{
                    path: '/',
                    sorter: {
                        path: 'status',
                        descending: false,
                        group: true
                    },
                    groupHeaderFactory: '.getGroupHeader'
                }"
                mode="SingleSelectMaster"
                selectionChange="onProjectSelected">
                <StandardListItem
                    title="{title}"
                    info="{path: 'status', formatter: '.formatter.projectStatusText'}"
                    infoState="{path: 'status', formatter: '.formatter.projectStatusColor'}"/>
            </List>
        </content>
    </Page>
</core:View>